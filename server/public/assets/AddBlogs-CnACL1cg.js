import{r as o,j as e}from"./index-CX1dnmS_.js";import{G as p}from"./iconBase-c4Fm-DuZ.js";function I(n){return p({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},child:[]}]})(n)}function u(n){return p({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"16 16 12 12 8 16"},child:[]},{tag:"line",attr:{x1:"12",y1:"12",x2:"12",y2:"21"},child:[]},{tag:"path",attr:{d:"M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"},child:[]},{tag:"polyline",attr:{points:"16 16 12 12 8 16"},child:[]}]})(n)}const D=()=>{const[n,y]=o.useState(""),[j,w]=o.useState(null),[m,N]=o.useState(null),[g,v]=o.useState(""),[b,S]=o.useState(""),[r,x]=o.useState([{subtitle:"",image:null,imagePreview:null,imageName:"",description:""},{subtitle:"",image:null,imagePreview:null,imageName:"",description:""},{subtitle:"",image:null,imagePreview:null,imageName:"",description:""}]),k=t=>{const a=t.target.files[0];w(a),N(a?URL.createObjectURL(a):null),v(a?a.name:"")},d=(t,a,s)=>{x(i=>{const l=[...i];return l[t][a]=s,l})},h=(t,a)=>{const s=a.target.files[0];x(i=>{const l=[...i];return l[t].image=s,l[t].imagePreview=s?URL.createObjectURL(s):null,l[t].imageName=s?s.name:"",l})},f=t=>new Promise((a,s)=>{if(!t)return a("");const i=new FileReader;i.onload=()=>a(i.result.split(",")[1]),i.onerror=l=>s(l),i.readAsDataURL(t)}),C=async t=>{t.preventDefault();try{const a=await f(j),s=await Promise.all(r.map(c=>f(c.image))),i={mainTitle:n,mainDescription:b,mainImage:a,subTitle1:r[0].subtitle,subDescription1:r[0].description,subImage1:s[0],subTitle2:r[1].subtitle,subDescription2:r[1].description,subImage2:s[1],subTitle3:r[2].subtitle,subDescription3:r[2].description,subImage3:s[2]},l=await fetch("/insertBlogContent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!l.ok){const c=await l.text();throw new Error(c||"Failed to submit blog")}alert("Blog submitted successfully!")}catch(a){alert("Error submitting blog: "+a.message)}};return e.jsx("div",{className:"min-h-screen bg-gray-900 py-8 w-full",children:e.jsxs("div",{className:"w-full bg-gray-800 rounded-2xl shadow-xl p-10 border border-gray-700 animate-fade-in",children:[e.jsx("div",{className:"flex items-center justify-center mb-8",children:e.jsx("span",{className:"bg-gradient-to-r from-blue-700 to-blue-400 p-4 rounded-full shadow",children:e.jsx(I,{className:"text-4xl text-white"})})}),e.jsx("h2",{className:"text-3xl font-bold text-center text-white mb-2 tracking-tight font-serif",children:"Add New Blog"}),e.jsx("p",{className:"text-center text-gray-300 mb-8 font-normal",children:"Fill in the details below to create a new blog post."}),e.jsxs("form",{onSubmit:C,className:"",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[e.jsxs("div",{className:"flex flex-col gap-8 justify-start",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold mb-2 text-gray-200",children:"Main Title"}),e.jsx("input",{type:"text",className:"w-full border border-gray-700 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-600 bg-gray-700 text-white transition-all duration-200 shadow-sm placeholder-gray-400",value:n,onChange:t=>y(t.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold mb-2 text-gray-200",children:"Main Image"}),e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-gray-600 rounded-xl cursor-pointer bg-gray-900 hover:bg-gray-800 transition group",children:[e.jsx(u,{className:"text-3xl text-blue-400 mb-2 group-hover:scale-110 transition-transform"}),e.jsx("span",{className:"text-gray-400 font-medium",children:"Click to upload"}),e.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:k,required:!0})]}),g&&e.jsxs("div",{className:"mt-2 text-sm text-gray-400",children:["Selected: ",e.jsx("span",{className:"font-semibold text-gray-200",children:g})]}),m&&e.jsx("div",{className:"mt-4 flex justify-center",children:e.jsx("div",{className:"rounded-xl overflow-hidden shadow border border-gray-700 bg-gray-900 w-60",children:e.jsx("img",{src:m,alt:"Main Preview",className:"h-40 w-full object-cover hover:scale-105 transition-transform duration-300"})})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold mb-2 text-gray-200",children:"Main Description"}),e.jsx("textarea",{className:"w-full border border-gray-700 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-600 bg-gray-700 text-white transition-all duration-200 shadow-sm placeholder-gray-400",rows:4,value:b,onChange:t=>S(t.target.value),required:!0})]})]}),e.jsxs("div",{className:"flex flex-col gap-8 justify-start",children:[e.jsxs("div",{className:"bg-gray-800 rounded-2xl p-6 shadow border border-gray-700 animate-fade-in-up",children:[e.jsx("h3",{className:"font-semibold mb-3 text-lg text-white font-serif",children:"Subtitle 1"}),e.jsx("input",{type:"text",className:"w-full border border-gray-700 rounded-lg px-3 py-2 mb-3 focus:outline-none focus:ring-2 focus:ring-blue-600 bg-gray-700 text-white transition-all duration-200 shadow-sm placeholder-gray-400",placeholder:"Subtitle 1",value:r[0].subtitle,onChange:t=>d(0,"subtitle",t.target.value),required:!0}),e.jsx("label",{className:"block font-semibold mb-2 text-gray-200",children:"Subtitle Image"}),e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-28 border-2 border-dashed border-gray-600 rounded-xl cursor-pointer bg-gray-900 hover:bg-gray-800 transition group",children:[e.jsx(u,{className:"text-2xl text-blue-400 mb-1 group-hover:scale-110 transition-transform"}),e.jsx("span",{className:"text-gray-400 font-medium text-sm",children:"Click to upload"}),e.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:t=>h(0,t),required:!0})]}),r[0].imageName&&e.jsxs("div",{className:"mt-1 text-xs text-gray-400",children:["Selected: ",e.jsx("span",{className:"font-semibold text-gray-200",children:r[0].imageName})]}),r[0].imagePreview&&e.jsx("div",{className:"mt-3 flex justify-center",children:e.jsx("div",{className:"rounded-lg overflow-hidden shadow border border-gray-700 bg-gray-900 w-44",children:e.jsx("img",{src:r[0].imagePreview,alt:"Subtitle 1 Preview",className:"h-28 w-full object-cover hover:scale-105 transition-transform duration-300"})})}),e.jsx("label",{className:"block font-semibold mb-2 text-gray-200 mt-3",children:"Subtitle Description"}),e.jsx("textarea",{className:"w-full border border-gray-700 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-600 bg-gray-700 text-white transition-all duration-200 shadow-sm placeholder-gray-400",rows:2,value:r[0].description,onChange:t=>d(0,"description",t.target.value),required:!0})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[1,2].map(t=>e.jsxs("div",{className:"bg-gray-800 rounded-2xl p-6 shadow border border-gray-700 animate-fade-in-up",children:[e.jsxs("h3",{className:"font-semibold mb-3 text-lg text-white font-serif",children:["Subtitle ",t+1]}),e.jsx("input",{type:"text",className:"w-full border border-gray-700 rounded-lg px-3 py-2 mb-3 focus:outline-none focus:ring-2 focus:ring-blue-600 bg-gray-700 text-white transition-all duration-200 shadow-sm placeholder-gray-400",placeholder:`Subtitle ${t+1}`,value:r[t].subtitle,onChange:a=>d(t,"subtitle",a.target.value),required:!0}),e.jsx("label",{className:"block font-semibold mb-2 text-gray-200",children:"Subtitle Image"}),e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-28 border-2 border-dashed border-gray-600 rounded-xl cursor-pointer bg-gray-900 hover:bg-gray-800 transition group",children:[e.jsx(u,{className:"text-2xl text-blue-400 mb-1 group-hover:scale-110 transition-transform"}),e.jsx("span",{className:"text-gray-400 font-medium text-sm",children:"Click to upload"}),e.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:a=>h(t,a),required:!0})]}),r[t].imageName&&e.jsxs("div",{className:"mt-1 text-xs text-gray-400",children:["Selected: ",e.jsx("span",{className:"font-semibold text-gray-200",children:r[t].imageName})]}),r[t].imagePreview&&e.jsx("div",{className:"mt-3 flex justify-center",children:e.jsx("div",{className:"rounded-lg overflow-hidden shadow border border-gray-700 bg-gray-900 w-44",children:e.jsx("img",{src:r[t].imagePreview,alt:`Subtitle ${t+1} Preview`,className:"h-28 w-full object-cover hover:scale-105 transition-transform duration-300"})})}),e.jsx("label",{className:"block font-semibold mb-2 text-gray-200 mt-3",children:"Subtitle Description"}),e.jsx("textarea",{className:"w-full border border-gray-700 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-600 bg-gray-700 text-white transition-all duration-200 shadow-sm placeholder-gray-400",rows:2,value:r[t].description,onChange:a=>d(t,"description",a.target.value),required:!0})]},t))})]})]}),e.jsx("div",{className:"flex justify-center mt-8",children:e.jsx("button",{type:"submit",className:"w-full max-w-md bg-blue-700 hover:bg-blue-800 text-white font-bold py-4 px-10 rounded-2xl shadow-lg transition-all duration-200 text-xl tracking-wide border-2 border-blue-900",children:"Submit Blog"})})]})]})})};export{D as default};
